sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/core/routing/History","sap/m/MessageBox","Ventas/Vitrinav2/model/cliente"],function(e,t,n,a){"use strict";return e.extend("Ventas.Vitrinav2.controller.Client",{onInit:function(){},onNavBack:function(){var e=n.getInstance();var t=e.getPreviousHash();var a=sap.ui.core.UIComponent.getRouterFor(this);if(t!==undefined){window.history.go(-1)}else{a.navTo("main",true)}},replaceClienteModel:function(){if(this._validarCliente()){const a=this.getOwnerComponent().getModel("transientCliente").getData();var e=vitrinaShopClient().Cliente({ID:a.rut,KUNNR:"",NAME1:a.name1,NAME2:"",ZTERM:"NT00",STRAS:a.street,ORT01:"",REGIO:"",phone:a.phone,secondId:a.secondId});var n=new t(e);n.setDefaultBindingMode(sap.ui.model.BindingMode.OneWay);this.getOwnerComponent().setModel(n,"cliente");this.getOwnerComponent().getModel("cliente").refresh(true);this.onNavBack()}},_enableRutInput:function(){var e=this.getOwnerComponent().getModel("cliente");if(e){e=e.getData()}if(e&&e.id!=="N/A"){this.byId("rutCliente").setEnabled(false)}else{this.byId("rutCliente").setEnabled(true)}},_validarCliente:function(){const e=sap.ui.core.ValueState.Error;const t=sap.ui.core.ValueState.None;const n=this.byId("telefono");var a=true;if(n.getValue()===""||n.getValue().length===0){n.setValueState(e);n.setValueStateText(`Ingrese un telefono`);a=false}else{n.setValueState(t);n.setValueStateText(``)}const i=this.byId("direccion");if(i.getValue()===""||i.getValue().length===0){i.setValueState(e);i.setValueStateText(`Ingrese una direccion`);a=false}else{i.setValueState(t);i.setValueStateText(``)}const s=this.byId("nombre");if(s.getValue()===""||s.getValue().length===0){s.setValueState(e);s.setValueStateText(`Ingrese un nombre`);a=false}else{s.setValueState(t);s.setValueStateText(``)}const o=this.byId("rutCliente");if(o.getValue()===""||o.getValue().length===0){o.setValueState(e);o.setValueStateText(`Ingrese un indentificador fiscal`);a=false}else{o.setValueState(t);o.setValueStateText(``)}return a},_copyOrIgnoreClientModel:function(){var e=this.getOwnerComponent().getModel("cliente");if(e&&e.getData().id!=="N/A"){e=e.getData();var n=new t(e);n.setDefaultBindingMode(sap.ui.model.BindingMode.TwoWay);this.getOwnerComponent().setModel(n,"transientCliente");this.getOwnerComponent().getModel("transientCliente").refresh(true)}else{var n=new t({});n.setDefaultBindingMode(sap.ui.model.BindingMode.TwoWay);this.getOwnerComponent().setModel(n,"transientCliente");this.getOwnerComponent().getModel("transientCliente").refresh(true)}},clearValueState:function(){const e=sap.ui.core.ValueState.None;const t=this.byId("telefono");t.setValueState(e);t.setValueStateText(``);const n=this.byId("direccion");n.setValueState(e);n.setValueStateText(``);const a=this.byId("nombre");a.setValueState(e);a.setValueStateText(``);const i=this.byId("rutCliente");i.setValueState(e);i.setValueStateText(``)},onAfterRendering:function(){}})});